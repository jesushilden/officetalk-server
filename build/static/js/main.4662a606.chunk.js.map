{"version":3,"sources":["Views/Office/components/Dots/Dots.js","Views/Login/Login.js","Views/Office/components/Navbar/Navbar.js","Views/Office/components/Chat/Message/Message.js","Views/Office/components/Chat/Chat.js","Views/Office/components/rooms/Room/Room.js","Views/Office/components/rooms/Hallway/Hallway.js","Views/Office/components/Avatar/Avatar.js","Views/Office/components/rooms/Rooms.js","Views/Office/components/Loading/Loading.js","Views/Office/components/CoWorkers/CoWorkers.js","Views/Office/components/Settings/Settings.js","Views/Office/Office.js","App.js","Services/Organization.js","Services/Message.js","Stores/OfficeStore.js","Hooks/Mover.js","Stores/SocketStore.js","Services/Employee.js","Services/SignIn.js","Stores/UserStore.js","index.js","Stores/RootStore.js"],"names":["Dots","props","className","white","data-title","Login","userStore","rootstore","socketStore","useState","username","setUsername","password","setPassword","loading","setLoading","loginType","setLoginType","isActive","tab","signIn","a","alert","response","connectToOffice","token","user","organization","navigateTo","console","log","onClick","size","placeholder","value","onChange","event","target","type","style","background","Navbar","observer","officeStore","src","logo","name","users","find","userId","_id","roomId","position","room","office","rooms","getCurrentRoom","setMuted","muted","color","silenced","setSilenced","setShowSettings","backgroundImage","avatar","signOut","disconnectSocket","Message","message","author","myMessage","content","Chat","setMessage","sending","setSending","activeChat","setActiveChat","sendMessage","window","messages","map","key","Room","first","last","bottomRoom","id","onDoubleClick","coordinates","x","clientX","y","clientY","emitPosition","move","Hallway","e","Avatar","top","left","transition","transitionTime","border","employees","empl","getUserAvatar","Rooms","roomsCount","length","index","Loading","CoWorkers","isOnline","employee","right","show","close","Settings","setBackground","unsaved","setUnsaved","JSON","parse","stringify","setUser","saveing","setSaveing","useEffect","changeValue","property","save","updateUser","margin","cursor","Office","showCoWorkers","setShowCoWorkers","showSettings","fetchOffice","fetchOrganization","marginRight","App","page","setPage","checkSignIn","checkLogin","renderPage","getOrganization","axios","get","data","sendOfficeMessage","post","OfficeStore","rootStore","Organization","setEmployeeStates","msg","officeClone","unshift","receiveMessage","muteEmployee","usersClone","silenceEmployee","changePosition","this","makeObservable","observable","action","delay","ms","Promise","res","setTimeout","X","Y","roomToHall","hallToRoom","roomToRoom","moveInsideRoom","duration","moveToDoor","duration2","document","getElementById","positionX","offsetLeft","positionY","offsetTop","calcTravelTime","targetRoom","doorElement","doorX","doorY","oldX","oldY","newX","newY","travelX","Math","abs","travelY","hypot","SocketStore","socket","io","connect","auth","on","targetUser","disconnect","myId","state","emit","employeeState","updateEmployee","put","baseUrl","signInWithToken","signInEmployee","credentials","signInOrganization","SignOut","UserStore","SignIn","userValues","Employee","makeAutoObservable","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4662a606.chunk.js","sourcesContent":["import './Dots.css'\r\n\r\nconst Dots = (props) => {\r\n    return (\r\n        <div className={`dots ${props.white && 'white'}`}>\r\n            <div className=\"snippet\" data-title=\".dot-hourglass\">\r\n                <div className=\"stage\">\r\n                    <div className=\"dot-flashing\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dots\r\n","import { useState } from 'react';\r\nimport './Login.css';\r\nimport { rootstore } from '../../index'\r\nimport Dots from '../Office/components/Dots/Dots'\r\nimport { AiOutlineUser, AiOutlineShop } from 'react-icons/ai'\r\n\r\nfunction Login(props) {\r\n    const { userStore, socketStore } = rootstore\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [loginType, setLoginType] = useState('user')\r\n\r\n    const isActive = (tab) => {\r\n        if (tab === 'user' && loginType === 'user') {\r\n            return 'user-active'\r\n        }\r\n        if (tab === 'organization' && loginType === 'organization') {\r\n            return 'organization-active'\r\n        }\r\n        return ''\r\n    }\r\n\r\n    const signIn = async () => {\r\n        if (username === '' || password === '') {\r\n            alert('username and password required')\r\n            return\r\n        }\r\n\r\n        try {\r\n            setLoading(true)\r\n            const response = await userStore.signIn(username, password)\r\n            socketStore.connectToOffice(response.token, response.user.organization)\r\n            props.navigateTo('office')\r\n            setLoading(false)\r\n\r\n        } catch (error) {\r\n            setLoading(false)\r\n            setPassword('')\r\n            alert('could not signin')\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login-title\">\r\n                Sign in to OfficeTalk\r\n            </div>\r\n            <div className=\"login-card block-shadow\">\r\n                <div className=\"login-card-tabs\">\r\n                    <div className={`login-card-tab ${isActive('user')}`} onClick={() => setLoginType('user')}>\r\n                        <AiOutlineUser size={20} />\r\n                        <div className=\"login-tab-text\">User</div>\r\n                    </div>\r\n                    <div className={`login-card-tab ${isActive('organization')}`} onClick={() => setLoginType('organization')}>\r\n                        <AiOutlineShop size={20} />\r\n                        <div className=\"login-tab-text\">Organization</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"login-input-row\">\r\n                    <div className=\"login-input-title\">\r\n                    </div>\r\n                    <input\r\n                        placeholder={'Email'}\r\n                        value={username}\r\n                        onChange={(event) => setUsername(event.target.value)}\r\n                    />\r\n                </div>\r\n                <div className=\"login-input-row\">\r\n                    <div className=\"login-input-title\">\r\n                    </div>\r\n                    <input\r\n                        placeholder={'Password'}\r\n                        value={password}\r\n                        type={'password'}\r\n                        onChange={(event) => setPassword(event.target.value)}\r\n                    />\r\n                </div>\r\n                <div className=\"login-input-row\">\r\n                    <div className=\"OTButton\" style={{ background: loginType === 'organization' && '#F74040' }} onClick={() => signIn()}>\r\n                        {loading ?\r\n                            <Dots white />\r\n                            :\r\n                            `Sign in`\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import './Navbar.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../index'\r\nimport { FiSettings, FiMic, FiVolume2, FiMicOff, FiVolumeX } from 'react-icons/fi'\r\n\r\nconst Navbar = observer((props) => {\r\n    const {userStore, socketStore, officeStore} = rootstore\r\n\r\n    const toggleMic = () => {\r\n        userStore.setMuted(!userStore.muted)\r\n    }\r\n\r\n    const toggleVolume = () => {\r\n        if (!userStore.silenced) {\r\n            userStore.setSilenced(true)\r\n            userStore.setMuted(true)\r\n        } else {\r\n            userStore.setSilenced(false)\r\n        }\r\n    }\r\n\r\n    const signOut = () => {\r\n        userStore.signOut()\r\n        socketStore.disconnectSocket()\r\n        props.navigateTo('login')\r\n    }\r\n\r\n    const getCurrentRoom = () => {\r\n        const user = officeStore.users.find(user => user.userId === userStore.user._id)\r\n        if(!user){\r\n            return 'loading...'\r\n        }\r\n        const roomId = user.position.room\r\n\r\n        if (roomId === -1) {\r\n            return \"Hallway\"\r\n        } else {\r\n            return officeStore.office.rooms.find(room => room._id === roomId).name\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar block-shadow\">\r\n            <div className=\"navbar-logo\">\r\n                <img className=\"navbar-logo-image\" src={officeStore.organization.logo}>\r\n                </img>\r\n                <div className=\"navbar-office-name\">\r\n                    {officeStore.organization.name}\r\n                </div>\r\n            </div>\r\n            <div className=\"navbar-controls\">\r\n                <div className=\"navbar-controls-border\"></div>\r\n                <div className=\"navbar-room\">\r\n                    <div className=\"navbar-room-name\">{getCurrentRoom()}</div>\r\n                    <div className=\"navbar-room-title\">current room</div>\r\n                </div>\r\n                <div className=\"navbar-voice\" onClick={() => toggleMic()} >\r\n                    {!userStore.muted ?\r\n                        <FiMic size={22} className=\"navbar-voice-microphone\" color={'#1CBF73'} />\r\n                        :\r\n                        <FiMicOff size={22} className=\"navbar-voice-microphone\" color={'#F74040'} />\r\n                    }\r\n                    <div className=\"navbar-room-title\">microphone</div>\r\n                </div>\r\n                <div className=\"navbar-voice\" onClick={() => toggleVolume()}>\r\n                    {!userStore.silenced ?\r\n                        <FiVolume2 size={22} className=\"navbar-voice-volume\" color={'#1CBF73'} />\r\n                        :\r\n                        <FiVolumeX size={22} className=\"navbar-voice-volume\" color={'#F74040'} />\r\n                    }\r\n                    <div className=\"navbar-room-title\">volume</div>\r\n                </div>\r\n                <div className=\"navbar-settings\" onClick={() => props.setShowSettings(true)}>\r\n                    <FiSettings size={22} className=\"navbar-settings-cog\" color={'#404145'} />\r\n                    <div className=\"navbar-room-title\">settings</div>\r\n                </div>\r\n                <div className=\"navbar-controls-border\"></div>\r\n            </div>\r\n            <div className=\"navbar-user\">\r\n                {userStore.user.name}\r\n                <div className=\"navbar-user-avatar\" style={{ backgroundImage: `url(${userStore.user.avatar})` }}>\r\n                </div>\r\n                <div className=\"navbar-sign-out\" onClick={() => signOut()}>\r\n                    Sign out\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Navbar","import './Message.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../../index'\r\n\r\nconst Message = observer((props) => {\r\n    const userStore = rootstore.userStore\r\n\r\n    const myMessage = () => {\r\n        if (props.message.author._id === userStore.user._id) {\r\n            return ' my-message'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`message ${myMessage()}`}>\r\n            <div className=\"message-buble\">\r\n                <div className=\"message-author\">\r\n                    {props.message.author.name}\r\n                </div>\r\n                <div className=\"message-content\">\r\n                    {props.message.content}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Message","import { useState } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport './Chat.css';\r\nimport Message from './Message/Message'\r\nimport { rootstore } from '../../../../index'\r\nimport Dots from '../Dots/Dots'\r\nimport { AiOutlineSend } from 'react-icons/ai'\r\n\r\nconst Chat = observer((props) => {\r\n    const [message, setMessage] = useState('')\r\n    const [sending, setSending] = useState(false)\r\n    const [activeChat, setActiveChat] = useState('office')\r\n    const officeStore = rootstore.officeStore\r\n    const userStore = rootstore.userStore\r\n\r\n    const sendMessage = async () => {\r\n        setSending(true)\r\n        const response = await officeStore.sendMessage(message)\r\n        setSending(false)\r\n        setMessage('')\r\n        if (!response) {\r\n            window.alert('sending message failed')\r\n        }\r\n    }\r\n\r\n    const getCurrentRoom = () => {\r\n        const user = officeStore.users.find(user => user.userId === userStore.user._id)\r\n        if(!user){\r\n            return 'loading...'\r\n        }\r\n        const roomId = user.position.room\r\n\r\n        if (roomId === -1) {\r\n            return \"Hallway\"\r\n        } else {\r\n            return officeStore.office.rooms.find(room => room._id === roomId).name\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat block-shadow\">\r\n            <div className=\"chat-tabs block-shadow\">\r\n                <div className={`chat-tab ${activeChat === 'office' && 'chat-tab-active'}`} onClick={() => setActiveChat('office')}>Office</div>\r\n                <div className={`chat-tab ${activeChat === 'room' && 'chat-tab-active'}`} onClick={() => setActiveChat('room')}>{getCurrentRoom()}</div>\r\n            </div>\r\n            <div className=\"chat-messages\">\r\n                {rootstore.officeStore.office.messages.map((message, key) =>\r\n                    <Message key={key} message={message} />\r\n                )}\r\n            </div>\r\n            <div className=\"chat-controls\">\r\n                <div className=\"chat-input-container\">\r\n                    <input\r\n                        value={message}\r\n                        placeholder={'Say something'}\r\n                        onChange={(event) => setMessage(event.target.value)}\r\n                    />\r\n                    <div className=\"chat-send\" onClick={sendMessage}>\r\n                        {sending ?\r\n                            <Dots />\r\n                            :\r\n                            <AiOutlineSend size={30}/>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Chat","import { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../..'\r\nimport './Room.css'\r\n\r\nconst Room = observer((props) => {\r\n    const { socketStore } = rootstore\r\n\r\n    const move = (event) => {\r\n        const position = {\r\n            room: props.room._id,\r\n            coordinates: {\r\n                x: event.clientX,\r\n                y: event.clientY\r\n            }\r\n        }\r\n        socketStore.emitPosition(position)\r\n    }\r\n\r\n    return (\r\n        <div className={`room ${props.first && 'first-block'} ${props.last && 'last-block'} ${props.bottomRoom && 'bottom-room'}`} id={`room${props.room._id}`}>\r\n            <div className=\"room-top\">\r\n                {props.room.name}\r\n            </div>\r\n            <div className=\"room-content\" onDoubleClick={(event) => move(event)}>\r\n            </div>\r\n            <div className=\"room-bottom\">\r\n                <div className=\"room-door\" id={`door${props.room._id}`}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Room;","import './Hallway.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../..'\r\n\r\nconst Hallway = observer((props) => {\r\n    const { socketStore } = rootstore\r\n\r\n    const move = (event) => {\r\n        const position = {\r\n            room: -1,\r\n            coordinates: {\r\n                x: event.clientX,\r\n                y: event.clientY\r\n            }\r\n        }\r\n        socketStore.emitPosition(position)\r\n    }\r\n    return (\r\n        <div className={`hallway ${props.first && 'first-block'} ${props.last && 'last-block'}`} onDoubleClick={(e) => move(e)}>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default Hallway","import './Avatar.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../index'\r\n\r\nconst Avatar = observer((props) => {\r\n    const officeStore = rootstore.officeStore\r\n    const userStore = rootstore.userStore\r\n\r\n    const getUserAvatar = () => {\r\n        const user = officeStore.organization.employees.find(empl => empl._id === props.user.userId)\r\n        if (!user) {\r\n            return 'laoding...'\r\n        } else {\r\n            return user.avatar\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"avatar\" style={{\r\n            top: props.user.position.coordinates.y,\r\n            left: props.user.position.coordinates.x,\r\n            transition: `all ${props.user.transitionTime}s ease-in-out`,\r\n            border: `2px solid ${props.user.userId === userStore.user._id ? '#1CBF73' : 'black'}`,\r\n            backgroundImage: `url(${getUserAvatar()})`\r\n        }}>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Avatar","import './Rooms.css'\r\nimport { observer } from 'mobx-react';\r\nimport { rootstore } from '../../../../index'\r\nimport Room from './Room/Room'\r\nimport Hallway from './Hallway/Hallway'\r\nimport Avatar from '../Avatar/Avatar'\r\n\r\nconst Rooms = observer(() => {\r\n    const officeStore = rootstore.officeStore\r\n    const roomsCount = officeStore.office.rooms.length\r\n\r\n    return (\r\n        <div className=\"rooms\" id=\"rooms\">\r\n            <div className=\"rooms-row\">\r\n                {officeStore.office.rooms.map((room, index) => {\r\n                    if (index % 2 === 0) {\r\n                        return (\r\n                            <Room\r\n                                room={room}\r\n                                first={index === 0}\r\n                            />\r\n                        )\r\n                    } return null\r\n                })}\r\n            </div>\r\n            <Hallway/>\r\n            <div className=\"rooms-row\">\r\n                {officeStore.office.rooms.map((room, index) => {\r\n                    if (index % 2 === 1) {\r\n                        return (\r\n                            <Room\r\n                                room={room}\r\n                                bottomRoom\r\n                                first={index === 1}\r\n                            />\r\n\r\n                        )\r\n                    } else return null\r\n                })}\r\n                {roomsCount % 2 === 1 &&\r\n                    <div className=\"room-block-empty\"></div>\r\n                }\r\n            </div>\r\n            <div className=\"user-layer\">\r\n                {officeStore.users.map(user => <Avatar key={user._id} user={user} />)}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Rooms","import Dots from '../Dots/Dots';\r\nimport './Loading.css';\r\n\r\nconst Loading = (props) => {\r\n    return (\r\n        <div className=\"loading\">\r\n            <div className=\"loading-text\">Loading Office</div>\r\n            <Dots />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","import './CoWorkers.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../index'\r\nimport { FiChevronsRight } from 'react-icons/fi'\r\n\r\n\r\nconst CoWorkers = observer((props) => {\r\n    const officeStore = rootstore.officeStore\r\n\r\n    const isOnline = (employee) => {\r\n        return officeStore.users.find(user => user.userId === employee._id)\r\n    }\r\n\r\n    return (\r\n        <div className=\"coworkers block-shadow\" style={{ right: props.show ? '0px' : '-250px' }}>\r\n            <div className=\"coworkers-header\">\r\n                Co-workers\r\n            </div>\r\n            <div className=\"coworkers-header-back\" onClick={() => props.close()}>\r\n                <FiChevronsRight size={25} />\r\n            </div>\r\n            <div className=\"coworkers-names\">\r\n                {officeStore.organization.employees.map(employee => {\r\n                    return (\r\n                        <div className=\"coworkers-user\">\r\n                            <div className=\"coworkers-user-avatar\" style={{backgroundImage: `url(${employee.avatar})`}}></div>\r\n                            <div className={`coworkers-user-name ${isOnline(employee) && 'user-online'}`}> {employee.name} </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default CoWorkers;","import './Settings.css'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from '../../../../index'\r\nimport { FiX } from 'react-icons/fi'\r\nimport { useEffect, useState } from 'react'\r\nimport Dots from '../Dots/Dots'\r\n\r\nconst Settings = observer((props) => {\r\n    const userStore = rootstore.userStore\r\n    const officeStore = rootstore.officeStore\r\n    const [background, setBackground] = useState('transparent')\r\n    const [unsaved, setUnsaved] = useState(false)\r\n    const [user, setUser] = useState(JSON.parse(JSON.stringify(userStore.user)))\r\n    const [saveing, setSaveing] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setBackground('rgba(64, 65, 69, 0.5)')\r\n    }, [])\r\n\r\n    const changeValue = (property, event) => {\r\n        if (!unsaved) {\r\n            setUnsaved(true)\r\n        }\r\n        setUser({ ...user, [property]: event.target.value })\r\n    }\r\n\r\n    const save = async () => {\r\n        if (!unsaved) return\r\n\r\n        setSaveing(true)\r\n        const response = await userStore.updateUser(user)\r\n        setSaveing(false)\r\n\r\n        if (response) {\r\n            setUnsaved(false)\r\n        } else {\r\n            alert('could not save user')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings-background\" style={{ background: background }}>\r\n            <div className=\"settings-modal block-shadow\">\r\n                <div className=\"settings-top-row\">\r\n                    <FiX size={25} style={{ margin: '10px', cursor: 'pointer' }} color={'#404145'} onClick={() => props.setShowSettings(false)} />\r\n                </div>\r\n                <div className=\"settings-content\">\r\n                    <div className=\"settings-content-row\">\r\n                        <div className=\"settings-avatar\" style={{ backgroundImage: `url(${user.avatar})` }}></div>\r\n                    </div>\r\n                    <div className=\"settings-content-row\">\r\n                        <div className=\"settings-input-row\">\r\n                            <div className=\"settings-input-label\">Avatar url</div>\r\n                            <input\r\n                                value={user.avatar}\r\n                                onChange={(event) => changeValue('avatar', event)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings-content-row\">\r\n                        <div className=\"settings-input-row\">\r\n                            <div className=\"settings-input-label\">Name</div>\r\n                            <input\r\n                                value={user.name}\r\n                                onChange={(event) => changeValue('name', event)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"settings-bottom-row\">\r\n                    <div className={`settings-save-button ${unsaved && 'unsaved-changes'}`} onClick={() => save()}>\r\n                        {saveing ?\r\n                            <Dots white />\r\n                            :\r\n                            'Save'\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Settings","import { useEffect, useState } from 'react'\r\nimport './Office.css'\r\nimport { observer } from 'mobx-react'\r\nimport { isObservable} from 'mobx'\r\nimport Navbar from './components/Navbar/Navbar'\r\nimport Chat from './components/Chat/Chat'\r\nimport Rooms from './components/rooms/Rooms'\r\nimport { rootstore } from '../../index'\r\nimport Loading from './components/Loading/Loading'\r\nimport CoWorkers from './components/CoWorkers/CoWorkers'\r\nimport Settings from './components/Settings/Settings'\r\nimport { FiUsers } from 'react-icons/fi'\r\n\r\nconst Office = observer((props) => {\r\n    const officeStore = rootstore.officeStore\r\n    const userStore = rootstore.userStore\r\n    const [showCoWorkers, setShowCoWorkers] = useState(false)\r\n    const [showSettings, setShowSettings] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const fetchOrganization = async () => {\r\n            await officeStore.fetchOffice(userStore.user.organization)\r\n        }\r\n\r\n        fetchOrganization()\r\n    }, [officeStore, userStore])\r\n\r\n    if (!officeStore.office) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className=\"office\">\r\n            <Navbar\r\n                navigateTo={props.navigateTo}\r\n                setShowSettings={setShowSettings}\r\n            />\r\n            <div className=\"office-body\">\r\n                <Chat />\r\n                <div className=\"office-body-scrollable\">\r\n                    <Rooms />\r\n                </div>\r\n            </div>\r\n            <div className=\"office-toggle-coworkers\" onClick={() => setShowCoWorkers(!showCoWorkers)}>\r\n                <FiUsers style={{marginRight: '3px'}} size={18}/>\r\n                {`Co-workers (${officeStore.organization.employees.length})`}\r\n            </div>\r\n            <CoWorkers show={showCoWorkers} close={() => setShowCoWorkers(false)}/>\r\n            {showSettings && <Settings setShowSettings={setShowSettings} />}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Office","import { useEffect, useState, useRef } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { rootstore } from './index'\r\nimport { io } from 'socket.io-client'\r\nimport Login from './Views/Login/Login'\r\nimport Office from './Views/Office/Office'\r\nimport './App.css'\r\n\r\nconst App = observer(() => {\r\n  const userStore = rootstore.userStore\r\n  const socketStore = rootstore.socketStore\r\n  const [page, setPage] = useState('login')\r\n\r\n  useEffect(() => {\r\n    const checkLogin = async () => {\r\n      const response = await userStore.checkSignIn()\r\n      response.user && setPage('office')\r\n      socketStore.connectToOffice(response.token, response.user.organization)\r\n    }\r\n\r\n    checkLogin()\r\n  }, [userStore])\r\n\r\n  const renderPage = () => {\r\n    switch (page) {\r\n      case 'login':\r\n        return <Login navigateTo={setPage} />\r\n      case 'office':\r\n        return <Office navigateTo={setPage} />\r\n      case 'controlPanel':\r\n        return <Login navigateTo={setPage} />\r\n      default:\r\n        return <Login navigateTo={setPage} />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {renderPage()}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default App;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/organizations'\r\n\r\nconst getOrganization = async (id) => {\r\n    const response = await axios.get(`${baseUrl}/${id}`)\r\n    return response.data\r\n}\r\n\r\nexport default { getOrganization }","import axios from 'axios'\r\nconst baseUrl = '/api/messages'\r\n\r\nconst sendOfficeMessage = async (content) => {\r\n    const response = await axios.post(`${baseUrl}`, content)\r\n    return response.data\r\n}\r\n\r\nexport default { sendOfficeMessage }","import { makeObservable, observable, action } from 'mobx'\r\nimport Organization from '../Services/Organization'\r\nimport Message from '../Services/Message'\r\n\r\nclass OfficeStore {\r\n    rootStore = null\r\n    office = null\r\n    organization = null\r\n\r\n    users = [{\r\n        id: \"600fddd784a2d221e466a3f9\",\r\n        name: 'Axel Baumgartner',\r\n        position: { room: -1, coordinates: { x: 5, y: 360 } },\r\n        transitionTime: 2\r\n    },\r\n    {\r\n        id: \"600fdd8584a2d221e466a3f8\",\r\n        name: \"600fddd784a2d221e466a3f9\",\r\n        position: { room: -1, coordinates: { x: 5, y: 360 } },\r\n        transitionTime: 2\r\n    }]\r\n\r\n    constructor(rootStore) {\r\n        this.rootStore = rootStore\r\n        makeObservable(this, {\r\n            rootStore: observable,\r\n            office: observable,\r\n            organization: observable,\r\n            users: observable,\r\n            receiveMessage: action,\r\n            changePosition: action,\r\n            sendMessage: action,\r\n            fetchOffice: action,\r\n            setEmployeeStates: action\r\n        })\r\n    }\r\n\r\n    fetchOffice = async (id) => {\r\n        const organization = await Organization.getOrganization(id)\r\n        this.organization = organization\r\n        this.office = organization.office\r\n        console.log('current organization:', this.organization)\r\n        return organization\r\n    }\r\n\r\n    setEmployeeStates = (employees) => {\r\n        console.log(employees)\r\n        this.users = employees\r\n    }\r\n\r\n    sendMessage = async (content) => {\r\n        try {\r\n            const response = await Message.sendOfficeMessage({ content: content })\r\n            if (response) {\r\n                if (!this.office.messages.find(msg => msg._id === response._id)) {\r\n                    let officeClone = JSON.parse(JSON.stringify(this.office))\r\n                    officeClone.messages.unshift(response)\r\n                    this.office = officeClone\r\n                }\r\n                return response\r\n            }\r\n        } catch {\r\n            return null\r\n        }\r\n    }\r\n\r\n    receiveMessage = (message) => {\r\n        if (!this.office.messages.find(msg => msg._id === message._id)) {\r\n            const officeClone = JSON.parse(JSON.stringify(this.office))\r\n            officeClone.messages.unshift(message)\r\n            this.office = officeClone\r\n        }\r\n    }\r\n\r\n    muteEmployee =  (id, value) => {\r\n        let usersClone = JSON.parse(JSON.stringify(this.users))\r\n        usersClone.find(user => user.userId === id).muted = value\r\n        this.users = usersClone\r\n    }\r\n\r\n    silenceEmployee = (id, value) => {\r\n        let usersClone = JSON.parse(JSON.stringify(this.users))\r\n        usersClone.find(user => user.userId === id).silenced = value\r\n        this.users = usersClone\r\n    }\r\n\r\n    changePosition = (id, position, transitionTime) => {\r\n        let usersClone = JSON.parse(JSON.stringify(this.users))\r\n        usersClone.find(user => user.userId === id).position = position\r\n        usersClone.find(user => user.userId === id).transitionTime = transitionTime\r\n        this.users = usersClone\r\n    }\r\n}\r\n\r\nexport default OfficeStore","import { rootstore } from '../index'\r\n\r\nconst delay = ms => new Promise(res => setTimeout(res, ms));\r\n\r\nconst move = async (X, Y, roomId, userId) => {\r\n    const user = rootstore.officeStore.users.find(user => user.userId === userId)\r\n    console.log(roomId, user.position.room)\r\n    if (roomId !== user.position.room) {\r\n        if (roomId === -1) {\r\n            await roomToHall(user, X, Y, roomId, userId)\r\n        } else if (user.position.room === -1) {\r\n            await hallToRoom(user, X, Y, roomId, userId)\r\n        } else {\r\n            await roomToRoom(user, X, Y, roomId)\r\n        }\r\n    } else {\r\n        await moveInsideRoom(userId, X, Y, roomId)\r\n    }\r\n}\r\n\r\nconst roomToHall = async (user, X, Y, roomId, userId) => {\r\n    const duration = moveToDoor(userId, user.position.room)\r\n    await delay(duration * 1000)\r\n    moveInsideRoom(userId, X, Y, roomId)\r\n}\r\n\r\nconst hallToRoom = async (user, X, Y, roomId) => {\r\n    const duration = moveToDoor(user.userId, roomId)\r\n    await delay(duration * 1000)\r\n    moveInsideRoom(user.userId, X, Y, roomId)\r\n}\r\n\r\nconst roomToRoom = async (user, X, Y, roomId) => {\r\n    const duration = moveToDoor(user.userId, user.position.room)\r\n    await delay(duration * 1000)\r\n    const duration2 = moveToDoor(user.userId, roomId)\r\n    await delay(duration2 * 1000)\r\n    moveInsideRoom(user.userId, X, Y, roomId)\r\n}\r\n\r\nconst moveInsideRoom = (userId, X, Y, roomId ) => {\r\n    const user = rootstore.officeStore.users.find(user => user.userId === userId)\r\n    const rooms = document.getElementById('rooms')\r\n    const positionX = X - rooms.offsetLeft\r\n    const positionY = Y - rooms.offsetTop\r\n    const transitionTime = calcTravelTime(user.position.coordinates.x, user.position.coordinates.y, positionX, positionY)\r\n    rootstore.officeStore.changePosition(userId, { room: roomId, coordinates: { x: positionX, y: positionY } }, transitionTime)\r\n    return transitionTime\r\n}\r\n\r\nconst moveToDoor = (userId, targetRoom) => {\r\n    const user = rootstore.officeStore.users.find(user => user.userId === userId)\r\n    const doorElement = document.getElementById(`door${targetRoom}`)\r\n\r\n    const doorX = doorElement.offsetLeft + 30\r\n    const doorY = doorElement.offsetTop\r\n    const transitionTime = calcTravelTime(user.position.coordinates.x, user.position.coordinates.y, doorX, doorY)\r\n    rootstore.officeStore.changePosition(userId, { room: user.position.room, coordinates: { x: doorX, y: doorY } }, transitionTime)\r\n    return transitionTime\r\n}\r\n\r\nconst calcTravelTime = (oldX, oldY, newX, newY) => {\r\n    const travelX = Math.abs(oldX - newX)\r\n    const travelY = Math.abs(oldY - newY)\r\n    const TravelLength = Math.hypot(travelX, travelY)\r\n    return TravelLength * 0.01\r\n}\r\n\r\nexport default move","import { makeObservable, observable, action } from 'mobx'\r\nimport { io } from 'socket.io-client'\r\nimport { rootstore } from '..'\r\nimport move from '../Hooks/Mover'\r\n\r\nclass SocketStore {\r\n    rootStore = null\r\n    socket = null\r\n\r\n    constructor(rootStore) {\r\n        this.rootStore = rootStore\r\n        makeObservable(this, {\r\n            rootStore: observable,\r\n            socket: observable,\r\n            connectToOffice: action,\r\n            disconnectSocket: action,\r\n            emitPosition: action\r\n        })\r\n    }\r\n\r\n    connectToOffice = (token, organization) => {\r\n        this.socket = io.connect(`/${organization}`, {\r\n            auth: {\r\n                token\r\n            }\r\n        })\r\n\r\n        this.socket.on('message', (message) => {\r\n            this.rootStore.officeStore.receiveMessage(message)\r\n        })\r\n\r\n        this.socket.on('employees', (employees) => {\r\n            this.rootStore.officeStore.setEmployeeStates(employees)\r\n        })\r\n\r\n        this.socket.on('employeeState', (employee) => {\r\n            const targetUser = rootstore.officeStore.users.find(user => user.userId === employee.userId)\r\n            if (targetUser.muted !== employee.muted) {\r\n                rootstore.officeStore.muteEmployee(employee.muted)\r\n            }\r\n            if (targetUser.silenced !== employee.silenced) {\r\n                rootstore.officeStore.silenceEmployee(employee.silenced)\r\n            }\r\n            if (targetUser.position !== employee.position) {\r\n                move(\r\n                    employee.position.coordinates.x,\r\n                    employee.position.coordinates.y,\r\n                    employee.position.room,\r\n                    employee.userId\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    disconnectSocket = () => {\r\n        this.socket.disconnect()\r\n    }\r\n\r\n    emitPosition = (position) => {\r\n        const myId = rootstore.userStore.user._id\r\n        const state = JSON.parse(JSON.stringify(this.rootStore.officeStore.users.find(user => user.userId === myId)))\r\n        this.socket.emit('employeeState', { employeeState: { ...state, position: position } })\r\n    }\r\n}\r\n\r\nexport default SocketStore","import axios from 'axios'\r\nconst baseUrl = '/api/employees'\r\n\r\nconst updateEmployee = async (employee) => {\r\n    const response = await axios.put(`${baseUrl}/${employee._id}`, employee)\r\n    return response.data\r\n}\r\n\r\nexport default { updateEmployee }","import axios from 'axios'\r\nconst baseUrl = '/api/signin'\r\n\r\nconst signInWithToken = async () => {\r\n    const response = await axios.post(baseUrl)\r\n    return response.data\r\n}\r\n\r\nconst signInEmployee = async (credentials) => {\r\n    const response = await axios.post(`${baseUrl}/employee`, credentials)\r\n    return response.data\r\n}\r\n\r\nconst signInOrganization = async (credentials) => {\r\n    const response = await axios.post(`${baseUrl}/organization`, credentials)\r\n    return response.data\r\n}\r\n\r\nconst SignOut = async () => {\r\n    const response = await axios.post(`${baseUrl}/signout`)\r\n    return response.data\r\n}\r\n\r\nexport default { signInWithToken, signInEmployee, signInOrganization, SignOut }","import { makeObservable, observable, action } from 'mobx'\r\nimport Employee from '../Services/Employee'\r\nimport SignIn from '../Services/SignIn'\r\n\r\n\r\nclass UserStore {\r\n    rootStore = null\r\n    user = null\r\n    muted = false\r\n    silenced = false\r\n\r\n    constructor(rootStore) {\r\n        this.rootStore = rootStore\r\n        makeObservable(this, {\r\n            rootStore: observable,\r\n            user: observable,\r\n            muted: observable,\r\n            silenced: observable,\r\n            signIn: action,\r\n            checkSignIn: action,\r\n            signOut: action,\r\n            updateUser: action,\r\n            setMuted: action,\r\n            setSilenced: action\r\n        })\r\n    }\r\n\r\n    signIn = async (username, password) => {\r\n        const response = await SignIn.signInEmployee({ username, password })\r\n        this.user = response.user\r\n        console.log('current user:', this.user)\r\n        return response\r\n    }\r\n\r\n    checkSignIn = async () => {\r\n        const response = await SignIn.signInWithToken()\r\n        this.user = response.user\r\n        return response\r\n    }\r\n\r\n    signOut = async () => {\r\n        await SignIn.SignOut()\r\n        this.user = null\r\n    }\r\n\r\n    updateUser = async (userValues) => {\r\n        try {\r\n            const response = await Employee.updateEmployee(userValues)\r\n            this.user = response\r\n            return response\r\n        } catch {\r\n            return null\r\n        }\r\n    }\r\n\r\n    setMuted = (value) => {\r\n        this.muted = value\r\n    }\r\n\r\n    setSilenced = (value) => {\r\n        this.silenced = value\r\n    }\r\n}\r\n\r\nexport default UserStore;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport rootStore from './Stores/RootStore'\r\n\r\nexport const rootstore = new rootStore()\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","import { makeAutoObservable } from 'mobx'\r\nimport OfficeStore from \"./OfficeStore\"\r\nimport SocketStore from './SocketStore'\r\nimport UserStore from \"./UserStore\"\r\n\r\nclass RootStore {\r\n    officeStore\r\n    userStore\r\n    socketStore\r\n\r\n    constructor() {\r\n        this.officeStore = new OfficeStore(this)\r\n        this.userStore = new UserStore(this)\r\n        this.socketStore = new SocketStore(this)\r\n        makeAutoObservable(this)\r\n    }\r\n}\r\n\r\nexport default RootStore\r\n/*const storeInstance = new RootStore()\r\nexport default storeInstance;*/"],"sourceRoot":""}